# Simulation
`nova simulate` is the main command and requires two positional arguments:
- `file.bam`: An input BAM containing long reads mapped to a genome of interest.
    - Please make sure to index the BAM with `samtools index` before running `nova`.
- `config.json`: A variant configuration file in JSON format that describes the mutations/sequences to simulate.

An example config file is available in `examples/variant_config.json`. For more information, refer to [the docs](https://github.com/stacy-l/nova/docs/configuration.md).

```bash
nova simulate input.bam config.json \
--random-seed 783 \
-o output_dir \
-p nova
```

### Options
- `--output-dir, -o`: Output directory for results (default: current directory)
- `--output-prefix, -p`: Prefix for output files (default: 'nova_sim')
- `--min-mapq`: Minimum mapping quality (default: 20)
- `--max-soft-clip-ratio`: Maximum soft clipping ratio (default: 0.1)
- `--min-read-length`: Minimum read length (default: 10000)
- `--max-read-length`: Maximum read length (default: 20000)
- `--min-distance-from-ends`: Minimum distance from read ends for insertion (default: 1000)
- `--random-seed`: Random seed for reproducibility

### Output
- `{prefix}_insertions.json`: Detailed insertion records with positions and metadata
- `{prefix}_modified_reads.fasta`: FASTA file with modified reads containing insertions
- `{prefix}_registry.json`: Registry of all generated insertion sequences
- `{prefix}_statistics.json`: A summary describing the simulated insertions generated by `nova`.